{"ast":null,"code":"var _jsxFileName = \"/home/Straeker/Documents/GitHub/Proyecto_Desarrollo_Web_I/sortilegios-weasley/src/components/ProductList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport ProductCard from \"./ProductCard\";\nimport initialProducts from \"../data/products\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LOCAL_STORAGE_KEY = \"productos_magicos\";\nconst ProductList = ({\n  isAuthorized\n}) => {\n  _s();\n  const [products, setProducts] = useState(() => {\n    const stored = localStorage.getItem(LOCAL_STORAGE_KEY);\n    return stored ? JSON.parse(stored) : initialProducts;\n  });\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    priceGalleons: \"\",\n    category: \"\",\n    image: \"\",\n    forbidden: false\n  });\n\n  // Guardar en localStorage cada vez que cambia la lista de productos\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(products));\n  }, [products]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === \"checkbox\" ? checked : value\n    }));\n  };\n  const handleAddProduct = e => {\n    e.preventDefault();\n    const newProduct = {\n      ...formData,\n      id: products.length + 1,\n      priceGalleons: parseFloat(formData.priceGalleons)\n    };\n    setProducts([...products, newProduct]);\n    setFormData({\n      name: \"\",\n      description: \"\",\n      priceGalleons: \"\",\n      category: \"\",\n      image: \"\",\n      forbidden: false\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-grid\",\n      children: products.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n        product: product\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), isAuthorized && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddProduct,\n      className: \"add-product-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Agregar nuevo producto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Nombre\",\n        value: formData.name,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"description\",\n        placeholder: \"Descripci\\xF3n\",\n        value: formData.description,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"priceGalleons\",\n        placeholder: \"Precio (galeones)\",\n        value: formData.priceGalleons,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"category\",\n        placeholder: \"Categor\\xEDa\",\n        value: formData.category,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"image\",\n        placeholder: \"Ruta de imagen (/nombre.png)\",\n        value: formData.image,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"forbidden\",\n          checked: formData.forbidden,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), \"\\xBFProhibido?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn-add\",\n        children: \"Agregar producto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(ProductList, \"mmfDeSkXioUopDmdLXU20BevQUY=\");\n_c = ProductList;\nexport default ProductList;\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useEffect","useState","ProductCard","initialProducts","jsxDEV","_jsxDEV","Fragment","_Fragment","LOCAL_STORAGE_KEY","ProductList","isAuthorized","_s","products","setProducts","stored","localStorage","getItem","JSON","parse","formData","setFormData","name","description","priceGalleons","category","image","forbidden","setItem","stringify","handleChange","e","value","type","checked","target","prev","handleAddProduct","preventDefault","newProduct","id","length","parseFloat","children","className","map","product","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","placeholder","onChange","required","_c","$RefreshReg$"],"sources":["/home/Straeker/Documents/GitHub/Proyecto_Desarrollo_Web_I/sortilegios-weasley/src/components/ProductList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ProductCard from \"./ProductCard\";\nimport initialProducts from \"../data/products\";\n\nconst LOCAL_STORAGE_KEY = \"productos_magicos\";\n\nconst ProductList = ({ isAuthorized }) => {\n  const [products, setProducts] = useState(() => {\n    const stored = localStorage.getItem(LOCAL_STORAGE_KEY);\n    return stored ? JSON.parse(stored) : initialProducts;\n  });\n\n  const [formData, setFormData] = useState({\n    name: \"\",\n    description: \"\",\n    priceGalleons: \"\",\n    category: \"\",\n    image: \"\",\n    forbidden: false,\n  });\n\n  // Guardar en localStorage cada vez que cambia la lista de productos\n  useEffect(() => {\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(products));\n  }, [products]);\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: type === \"checkbox\" ? checked : value,\n    }));\n  };\n\n  const handleAddProduct = (e) => {\n    e.preventDefault();\n\n    const newProduct = {\n      ...formData,\n      id: products.length + 1,\n      priceGalleons: parseFloat(formData.priceGalleons),\n    };\n\n    setProducts([...products, newProduct]);\n\n    setFormData({\n      name: \"\",\n      description: \"\",\n      priceGalleons: \"\",\n      category: \"\",\n      image: \"\",\n      forbidden: false,\n    });\n  };\n\n  return (\n    <>\n      <div className=\"product-grid\">\n        {products.map((product) => (\n          <ProductCard key={product.id} product={product} />\n        ))}\n      </div>\n\n      {isAuthorized && (\n        <form onSubmit={handleAddProduct} className=\"add-product-form\">\n          <h3>Agregar nuevo producto</h3>\n          <input\n            type=\"text\"\n            name=\"name\"\n            placeholder=\"Nombre\"\n            value={formData.name}\n            onChange={handleChange}\n            required\n          />\n          <textarea\n            name=\"description\"\n            placeholder=\"Descripción\"\n            value={formData.description}\n            onChange={handleChange}\n            required\n          />\n          <input\n            type=\"number\"\n            name=\"priceGalleons\"\n            placeholder=\"Precio (galeones)\"\n            value={formData.priceGalleons}\n            onChange={handleChange}\n            required\n          />\n          <input\n            type=\"text\"\n            name=\"category\"\n            placeholder=\"Categoría\"\n            value={formData.category}\n            onChange={handleChange}\n          />\n          <input\n            type=\"text\"\n            name=\"image\"\n            placeholder=\"Ruta de imagen (/nombre.png)\"\n            value={formData.image}\n            onChange={handleChange}\n          />\n          <label>\n            <input\n              type=\"checkbox\"\n              name=\"forbidden\"\n              checked={formData.forbidden}\n              onChange={handleChange}\n            />\n            ¿Prohibido?\n          </label>\n          <button type=\"submit\" className=\"btn-add\">Agregar producto</button>\n        </form>\n      )}\n    </>\n  );\n};\n\nexport default ProductList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}