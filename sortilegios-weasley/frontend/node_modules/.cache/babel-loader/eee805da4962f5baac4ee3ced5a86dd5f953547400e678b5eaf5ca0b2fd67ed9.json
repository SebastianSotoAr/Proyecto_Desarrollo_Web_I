{"ast":null,"code":"var _jsxFileName = \"/home/straeker/Documentos/GitHub/Proyecto_Desarrollo_Web_I/sortilegios-weasley/frontend/src/pages/UserPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../components/auth\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserPage = () => {\n  _s();\n  const {\n    user,\n    setUser,\n    logout\n  } = useContext(AuthContext);\n  const [form, setForm] = useState({\n    name: \"\",\n    password: \"\",\n    currentPassword: \"\"\n  });\n  const [magicAnswer, setMagicAnswer] = useState(\"\");\n  const [orderHistory, setOrderHistory] = useState([]);\n  const [allUsers, setAllUsers] = useState([]); // solo admin\n\n  useEffect(() => {\n    if (user) {\n      setForm({\n        name: user.name || \"\",\n        password: \"\",\n        currentPassword: \"\"\n      });\n      fetchOrders();\n      if (user.rol === \"admin\") fetchAllUsers();\n    }\n  }, [user]);\n  const fetchOrders = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.get(\"http://localhost:5000/api/orders/my\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setOrderHistory(res.data);\n    } catch (err) {\n      console.error(\"Error al obtener pedidos:\", err);\n    }\n  };\n  const fetchAllUsers = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.get(\"http://localhost:5000/api/users\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setAllUsers(res.data);\n    } catch (err) {\n      console.error(\"Error al obtener usuarios:\", err);\n    }\n  };\n  const handleProfileUpdate = async () => {\n    if (!form.currentPassword) {\n      return alert(\"Debes ingresar tu contraseña actual para cambiar los datos.\");\n    }\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.put(\"http://localhost:5000/api/users/me\", {\n        name: form.name,\n        password: form.password,\n        currentPassword: form.currentPassword\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setUser(res.data);\n      alert(\"Perfil actualizado 🪄\");\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data;\n      console.error(\"Error actualizando perfil:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err);\n      alert(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || \"Error actualizando perfil\");\n    }\n  };\n  const handleAddFunds = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!magicAnswer.trim()) {\n        alert(\"Debes escribir un hechizo para recargar ✨\");\n        return;\n      }\n      const res = await axios.post(\"http://localhost:5000/api/users/recharge\", {\n        answer: magicAnswer\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(\"Respuesta exitosa:\", res);\n      setUser(prev => ({\n        ...prev,\n        money: res.data.money\n      }));\n      alert(\"¡Recarga mágica exitosa! ✨\");\n    } catch (err) {\n      var _err$response3, _err$response3$data, _err$response4;\n      const message = ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || \"Respuesta incorrecta. Intenta con otro hechizo...\";\n      alert(message);\n      console.error(\"Error al recargar:\", ((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.data) || err);\n    }\n  };\n  const handleRoleChange = async (userId, newRole) => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.put(`http://localhost:5000/api/users/${userId}/role`, {\n        rol: newRole\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      fetchAllUsers();\n      alert(\"Rol actualizado 🧙‍♂️\");\n    } catch (err) {\n      console.error(\"Error actualizando rol:\", err);\n    }\n  };\n  if (!user) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Cargando...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Perfil de \", user.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Modificar informaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Usuario:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 12\n        }, this), \" \", user.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Nuevo nombre\",\n        value: form.name,\n        onChange: e => setForm({\n          ...form,\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Nueva contrase\\xF1a (opcional)\",\n        value: form.password,\n        onChange: e => setForm({\n          ...form,\n          password: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Contrase\\xF1a actual (requerida)\",\n        value: form.currentPassword,\n        onChange: e => setForm({\n          ...form,\n          currentPassword: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleProfileUpdate,\n        children: \"Guardar cambios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Recarga m\\xE1gica \\uD83E\\uDE99\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Responde correctamente: \", /*#__PURE__*/_jsxDEV(\"em\", {\n          children: \"\\xBFQu\\xE9 hechizo repele a los dementores?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: magicAnswer,\n        onChange: e => setMagicAnswer(e.target.value),\n        placeholder: \"Escribe tu hechizo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddFunds,\n        children: \"Recargar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Historial de pedidos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), orderHistory.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No hay pedidos todav\\xEDa.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: orderHistory.map(order => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"Pedido #\", order._id.slice(-5), \" \\u2013 Total: \", order.total, \" Galeones\"]\n        }, order._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), user.rol === \"admin\" && /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Administrar usuarios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this), allUsers.map(u => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [u.name, \" (\", u.username, \") - Rol:\", \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n          value: u.rol,\n          onChange: e => handleRoleChange(u._id, e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"admin\",\n            children: \"admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"usuario_magico\",\n            children: \"usuario_magico\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"usuario_muggle\",\n            children: \"usuario_muggle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"invitado\",\n            children: \"invitado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }, this)]\n      }, u._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n_s(UserPage, \"6XU6QGc1790H3GGuk4fnGT2u/3U=\");\n_c = UserPage;\nexport default UserPage;\nvar _c;\n$RefreshReg$(_c, \"UserPage\");","map":{"version":3,"names":["React","useContext","useEffect","useState","AuthContext","axios","jsxDEV","_jsxDEV","UserPage","_s","user","setUser","logout","form","setForm","name","password","currentPassword","magicAnswer","setMagicAnswer","orderHistory","setOrderHistory","allUsers","setAllUsers","fetchOrders","rol","fetchAllUsers","token","localStorage","getItem","res","get","headers","Authorization","data","err","console","error","handleProfileUpdate","alert","put","_err$response","_err$response2","_err$response2$data","response","handleAddFunds","trim","post","answer","log","prev","money","_err$response3","_err$response3$data","_err$response4","message","handleRoleChange","userId","newRole","children","fileName","_jsxFileName","lineNumber","columnNumber","className","username","type","placeholder","value","onChange","e","target","onClick","length","map","order","_id","slice","total","u","_c","$RefreshReg$"],"sources":["/home/straeker/Documentos/GitHub/Proyecto_Desarrollo_Web_I/sortilegios-weasley/frontend/src/pages/UserPage.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../components/auth\";\nimport axios from \"axios\";\n\nconst UserPage = () => {\n  const { user, setUser, logout } = useContext(AuthContext);\n  const [form, setForm] = useState({ name: \"\", password: \"\", currentPassword: \"\" });\n  const [magicAnswer, setMagicAnswer] = useState(\"\");\n  const [orderHistory, setOrderHistory] = useState([]);\n  const [allUsers, setAllUsers] = useState([]); // solo admin\n\n  useEffect(() => {\n    if (user) {\n      setForm({ name: user.name || \"\", password: \"\", currentPassword: \"\" });\n      fetchOrders();\n      if (user.rol === \"admin\") fetchAllUsers();\n    }\n  }, [user]);\n\n  const fetchOrders = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.get(\"http://localhost:5000/api/orders/my\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setOrderHistory(res.data);\n    } catch (err) {\n      console.error(\"Error al obtener pedidos:\", err);\n    }\n  };\n\n  const fetchAllUsers = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.get(\"http://localhost:5000/api/users\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setAllUsers(res.data);\n    } catch (err) {\n      console.error(\"Error al obtener usuarios:\", err);\n    }\n  };\n\n  const handleProfileUpdate = async () => {\n    if (!form.currentPassword) {\n      return alert(\"Debes ingresar tu contraseña actual para cambiar los datos.\");\n    }\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      const res = await axios.put(\n        \"http://localhost:5000/api/users/me\",\n        {\n          name: form.name,\n          password: form.password,\n          currentPassword: form.currentPassword,\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n      setUser(res.data);\n      alert(\"Perfil actualizado 🪄\");\n    } catch (err) {\n      console.error(\"Error actualizando perfil:\", err.response?.data || err);\n      alert(err.response?.data?.error || \"Error actualizando perfil\");\n    }\n  };\n\n const handleAddFunds = async () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    if (!magicAnswer.trim()) {\n  alert(\"Debes escribir un hechizo para recargar ✨\");\n  return;\n}\n\n    const res = await axios.post(\n      \"http://localhost:5000/api/users/recharge\",\n      { answer: magicAnswer },\n      { headers: { Authorization: `Bearer ${token}` } }\n    );\n\n    console.log(\"Respuesta exitosa:\", res);\n\n    setUser((prev) => ({ ...prev, money: res.data.money }));\n    alert(\"¡Recarga mágica exitosa! ✨\");\n  } catch (err) {\n    const message =\n      err.response?.data?.error || \"Respuesta incorrecta. Intenta con otro hechizo...\";\n    alert(message);\n    console.error(\"Error al recargar:\", err.response?.data || err);\n  }\n};\n\n\n\n  const handleRoleChange = async (userId, newRole) => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      await axios.put(\n        `http://localhost:5000/api/users/${userId}/role`,\n        { rol: newRole },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      fetchAllUsers();\n      alert(\"Rol actualizado 🧙‍♂️\");\n    } catch (err) {\n      console.error(\"Error actualizando rol:\", err);\n    }\n  };\n\n  if (!user) return <p>Cargando...</p>;\n\n  return (\n    <div className=\"profile-container\">\n      <h1>Perfil de {user.name}</h1>\n\n      <section>\n        <h2>Modificar información</h2>\n        <p><strong>Usuario:</strong> {user.username}</p>\n        <input\n          type=\"text\"\n          placeholder=\"Nuevo nombre\"\n          value={form.name}\n          onChange={(e) => setForm({ ...form, name: e.target.value })}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Nueva contraseña (opcional)\"\n          value={form.password}\n          onChange={(e) => setForm({ ...form, password: e.target.value })}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Contraseña actual (requerida)\"\n          value={form.currentPassword}\n          onChange={(e) => setForm({ ...form, currentPassword: e.target.value })}\n        />\n        <button onClick={handleProfileUpdate}>Guardar cambios</button>\n      </section>\n\n      <section>\n        <h2>Recarga mágica 🪙</h2>\n        <p>Responde correctamente: <em>¿Qué hechizo repele a los dementores?</em></p>\n        <input\n          type=\"text\"\n          value={magicAnswer}\n          onChange={(e) => setMagicAnswer(e.target.value)}\n          placeholder=\"Escribe tu hechizo\"\n        />\n        <button onClick={handleAddFunds}>Recargar</button>\n      </section>\n\n      <section>\n        <h2>Historial de pedidos</h2>\n        {orderHistory.length === 0 ? (\n          <p>No hay pedidos todavía.</p>\n        ) : (\n          <ul>\n            {orderHistory.map((order) => (\n              <li key={order._id}>\n                Pedido #{order._id.slice(-5)} – Total: {order.total} Galeones\n              </li>\n            ))}\n          </ul>\n        )}\n      </section>\n\n      {user.rol === \"admin\" && (\n        <section>\n          <h2>Administrar usuarios</h2>\n          {allUsers.map((u) => (\n            <div key={u._id}>\n              {u.name} ({u.username}) - Rol:{\" \"}\n              <select\n                value={u.rol}\n                onChange={(e) => handleRoleChange(u._id, e.target.value)}\n              >\n                <option value=\"admin\">admin</option>\n                <option value=\"usuario_magico\">usuario_magico</option>\n                <option value=\"usuario_muggle\">usuario_muggle</option>\n                <option value=\"invitado\">invitado</option>\n              </select>\n            </div>\n          ))}\n        </section>\n      )}\n    </div>\n  );\n};\n\nexport default UserPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}